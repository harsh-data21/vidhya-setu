{% extends 'base.html' %}

{% block content %}

<!-- ================================================= -->
<!-- ğŸ“Š Page Title -->
<!-- ================================================= -->
<h2>ğŸ“Š My Attendance</h2>

<!-- ================================================= -->
<!-- ğŸ“ˆ ATTENDANCE SUMMARY SECTION -->
<!-- ================================================= -->
<h3>Attendance Summary</h3>

<p>
    <strong>Total Days:</strong> {{ total_days }} <br>
    <strong>Present Days:</strong> {{ present_days }} <br>
    <strong>Attendance Percentage:</strong>
    <span style="
        font-weight: bold;
        color: {% if percentage < 75 %}red{% else %}green{% endif %};
    ">
        {{ percentage }}%
    </span>
</p>

<hr>

<!-- ================================================= -->
<!-- ğŸ“‹ ATTENDANCE RECORD TABLE -->
<!-- ================================================= -->
{% if records %}
<table border="1" cellpadding="10" cellspacing="0" style="width:70%;">
    <tr style="background-color: #f2f2f2;">
        <th>Date</th>
        <th>Status</th>
    </tr>

    {% for rec in records %}
    <tr>
        <!-- Attendance date -->
        <td>{{ rec.date|date:"d M Y" }}</td>

        <!-- Attendance status -->
        <td style="text-align:center; font-weight:bold;">
            {% if rec.status == "P" %}
                <span style="color: green;">âœ… Present</span>
            {% else %}
                <span style="color: red;">âŒ Absent</span>
            {% endif %}
        </td>
    </tr>
    {% endfor %}
</table>

{% else %}
<p style="color: gray;">No attendance records found.</p>
{% endif %}

<br>

<!-- ================================================= -->
<!-- ğŸ”™ Back to Student Dashboard -->
<!-- ================================================= -->
<a href="{% url 'student_dashboard' %}">
    â† Back to Dashboard
</a>

{% endblock %}
