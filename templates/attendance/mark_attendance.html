{% extends 'base.html' %}

{% block content %}

<!-- ================================================= -->
<!-- ðŸ“‹ Page Heading -->
<!-- ================================================= -->
<h2>ðŸ“‹ Mark Attendance â€“ {{ date }}</h2>

<!-- ================================================= -->
<!-- â„¹ï¸ Information Note -->
<!-- ================================================= -->
<p style="color: #555;">
    <b>Note:</b> Agar aaj ki attendance dobara submit karoge,
    to purani attendance <b>UPDATE</b> ho jaayegi.
</p>

<hr>

<!-- ================================================= -->
<!-- ðŸ“ Attendance Form -->
<!-- ================================================= -->
<form method="post">
    {% csrf_token %}
    <!-- CSRF token: Django security ke liye mandatory -->

    <table border="1" cellpadding="10" cellspacing="0" width="60%">
        <tr style="background-color: #f2f2f2;">
            <th>Student Name</th>
            <th>Present</th>
            <th>Absent</th>
        </tr>

        {% for student in students %}
        <tr>
            <!-- Student username -->
            <td>{{ student.username }}</td>

            <!-- ============================== -->
            <!-- âœ… Present radio button -->
            <!-- name = student.id
                 value = 'P' (Present)
                 Ye value directly views.py me jaati hai
            -->
            <td style="text-align: center;">
                <input
                    type="radio"
                    name="{{ student.id }}"
                    value="P"
                    required
                >
            </td>

            <!-- ============================== -->
            <!-- âŒ Absent radio button -->
            <!-- value = 'A' (Absent) -->
            <td style="text-align: center;">
                <input
                    type="radio"
                    name="{{ student.id }}"
                    value="A"
                >
            </td>
        </tr>

        {% empty %}
        <!-- Agar koi student na ho -->
        <tr>
            <td colspan="3" style="text-align:center;">
                No students found.
            </td>
        </tr>
        {% endfor %}
    </table>

    <br>

    <!-- ================================================= -->
    <!-- ðŸ’¾ Submit Button -->
    <!-- ================================================= -->
    <button type="submit">
        âœ… Save Attendance
    </button>
</form>

{% endblock %}
